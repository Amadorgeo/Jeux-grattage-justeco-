
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Roue de la Chance - Just'√©co Solidaire</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <img src="logo.png" alt="Just'√©co Solidaire" class="logo">
    <h1>üéÅ Jeu de Grattage Just'√©co Solidaire</h1>
    <p>Grattez les 6 cases et retrouvez 3 produits identiques pour gagner !</p>
  </header>

  <main>
    <div class="scratch-card" id="scratchCard"></div>
    <h2 id="result"></h2>
    <button id="rejouer" onclick="location.reload()">Rejouer</button>
  </main>

  <footer>
    <p>&copy; 2025 Just'√©co Solidaire</p>
  </footer>

  <script>
    if (localStorage.getItem('scratchPlayed') === new Date().toLocaleDateString()) {
      document.getElementById('result').innerText = '‚õî Vous avez d√©j√† jou√© aujourd'hui. Revenez demain !';
      document.getElementById('scratchCard').style.display = 'none';
    } else {
      const images = [
        "emoji_1.png", "emoji_2.png", "emoji_3.png",
        "emoji_4.png", "emoji_5.png", "emoji_6.png"
      ];

      let selectedImages = [];
      for (let i = 0; i < 6; i++) {
        const rand = images[Math.floor(Math.random() * images.length)];
        selectedImages.push(rand);
      }

      const cardContainer = document.getElementById("scratchCard");
      let revealedCount = 0;
      let foundImages = [];

      selectedImages.forEach((imgSrc, index) => {
        const card = document.createElement("div");
        card.className = "card";
        const img = document.createElement("img");
        img.src = imgSrc;
        card.appendChild(img);

        card.addEventListener("click", () => {
          if (!card.classList.contains("revealed")) {
            card.classList.add("revealed");
            revealedCount++;
            foundImages.push(imgSrc);

            if (revealedCount === 6) {
              localStorage.setItem('scratchPlayed', new Date().toLocaleDateString());

              const counts = {};
              foundImages.forEach(img => {
                counts[img] = (counts[img] || 0) + 1;
              });
              const result = Object.entries(counts).find(([k, v]) => v >= 3);
              const resultText = document.getElementById("result");
              document.getElementById("rejouer").style.display = "inline-block";
              if (result) {
                resultText.innerText = `üéâ Bravo ! Vous avez gagn√© le produit : ${result[0]}`;
              } else {
                resultText.innerText = "üò¢ D√©sol√©, vous n'avez pas 3 produits identiques.";
              }
            }
          }
        });

        cardContainer.appendChild(card);
      });
    }
  </script>
</body>
</html>
